import{t as e}from"./core.js";let t=document.querySelector('[data-target="nav-wrapper"]'),n=document.querySelector("[data-action='nav-toggle']"),i=n?n.querySelector("i"):null,a=document.querySelector("[data-target='main-navigation']"),c=document.querySelectorAll("[data-action='submenu-toggle']");c.length&&c.forEach((t=>{t.addEventListener("click",(n=>{let i=t.nextElementSibling;i.hidden=!i.hidden,i.hidden?t.classList.remove("submenu-open"):(t.classList.add("submenu-open"),e(i),document.addEventListener("click",(e=>{!function(e,t){e.composedPath().includes(t.parentElement)||(t.hidden=!0,t.previousElementSibling.classList.remove("submenu-open"))}(e,i)})),i.addEventListener("keyup",(e=>{"Escape"===e.code&&(t.click(),t.focus())})))}))})),a&&document.addEventListener("click",(e=>{!function(e,t){const c=e.composedPath().includes(n);e.composedPath().includes(t)||c||(a.classList.add("mobile-hidden"),a.classList.remove("mobile-visible"),i.classList.add("fa-bars"),i.classList.remove("fa-times"))}(e,a)})),n&&i&&n.addEventListener("click",(e=>{var n,c,o,s;a.classList.toggle("mobile-hidden"),a.classList.toggle("mobile-visible"),i.classList.toggle("fa-bars"),i.classList.toggle("fa-times"),a.classList.contains("mobile-visible")&&(c=(n=t).querySelectorAll("[data-mobile-nav-item]"),o=c[0],s=c[c.length-1],n.addEventListener("keydown",(function(e){"Tab"!==e.key&&"Tab"!==e.keyCode||window.innerWidth>=950||a.classList.contains("mobile-hidden")||(e.shiftKey?document.activeElement===o&&(s.focus(),e.preventDefault()):document.activeElement===s&&(o.focus(),e.preventDefault()))})))})),t&&t.addEventListener("keyup",(e=>{window.innerWidth<950&&"Escape"===e.code&&(n.click(),n.focus())}));let o=document.querySelector("[data-action='account-nav-toggle']"),s=document.querySelector("[data-target='account-nav']");o&&o.addEventListener("click",(e=>{e.stopPropagation(),s.hidden=!s.hidden,s.querySelector("a:not([disabled])").focus()})),s&&(s.addEventListener("keyup",(e=>{e.stopPropagation(),"Escape"===e.code&&(s.hidden=!0,o.focus())})),document.addEventListener("click",(e=>{!function(e,t){e.composedPath().includes(t)||(t.hidden=!0)}(e,s)})),e(s));
